<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	template="template/ui.xhtml">
	<ui:define name="body">
		<ui:include src="./general/menutab.xhtml" />
		<div class="buildingManagementDiv">
			<h:form id="buildingManagementForm">
				<table width="100%" class="appDivClass">
					<tr>
						<td>
							<div align="center" class="titleDivClass">
								<p:outputLabel value="Building Management"></p:outputLabel>
							</div>
							<hr />
						</td>
					</tr>
					<tr>
						<td width="100%">
							<div align="left" class="mainDivClass">
								<p:commandLink value="Add New Building" styleClass="commonLink" onclick="PF('newBuildingPopup').show()"></p:commandLink>
								<br/>
								<br/>
								<p:dataTable id="paginatorSelector"
									widgetVar="paginatorSelector" paginator="true"
									paginatorPosition="bottom"
									paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
									value="#{buildingManagementBean.buildingsToShow}" rows="10"
									rowKey="#{building.buildingId}" var="building"
									styleClass="buildingManagementTable">
									<p:column styleClass="dataTableColumn">
										<p:panel>
											<div align="left" class="buildingDivClass">
												<h:outputText value="#{building.name}" style="font-size:16px"></h:outputText>
												<br/>
												<h:outputText value="#{building.location}" styleClass="buildingLocation"></h:outputText>				
												<div class="buildingDivClass" style="padding: 5px">
												</div>
											</div>
											<div align="right" class="buildingManagDelete">
												<p:graphicImage width="15" styleClass="buildingManagIconClass" value="#{request.contextPath}/../resources/images/error.png"></p:graphicImage>
												<p:spacer width="5"/>
												<p:commandLink value="Delete" ajax="false" action="#{buildingManagementBean.deleteBuilding(building)}"></p:commandLink>
											</div>
										</p:panel>
									</p:column>
								</p:dataTable>
							</div>
						</td>
					</tr>
				</table>
				<br/>
				<br/>
			</h:form>
		</div>
		<ui:include src="./general/footer.xhtml" />
		<ui:include src="./popups/newBuildingPopup.xhtml" />
	</ui:define>
</ui:composition>